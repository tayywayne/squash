# Achievements

Squashie features an extensive achievement system with over 60 unique achievements to unlock. These achievements gamify the conflict resolution process and encourage positive behaviors.

## Achievement System Overview

Each achievement includes:
- **Code**: Unique identifier
- **Name**: Display name
- **Emoji**: Visual representation
- **Description**: Explanation of how it was earned

Achievements are organized into categories and are unlocked automatically when specific conditions are met.

## Achievement Categories

### Conflict Resolution Achievements

| Code | Name | Emoji | Description | Unlock Condition |
|------|------|-------|-------------|------------------|
| first_conflict | First Conflict Sent | ğŸ“¬ | You bravely hit send on your first conflict. | Start first conflict |
| five_conflicts | 5 Conflicts Sent | ğŸ‰ | Drama magnet: you've started 5 conflicts. | Start 5th conflict |
| solved_stage_1 | Solved in Stage 1 | ğŸ¤ | Resolved a conflict before any rehashing. | Resolve conflict in first stage |
| first_rehash | Rehashed Reality | ğŸ” | You triggered a rehash after round one. | First rehash attempt |
| wrote_core_issue | Core Issue Unlocked | ğŸ§  | You reflected deeply on your inner drama. | Submit core issue |
| ai_judged | Resolved by AI | âœ¨ | The almighty AI stepped in and judged. | Receive final AI judgment |
| ten_conflicts_private | Drama Vault | ğŸ” | You kept 10 conflicts out of the public eye by resolving them before they had to be resolved by the AI judge. | Resolve 10 conflicts without AI judgment |
| long_conflict | Took Forever | ğŸ¢ | Conflict lasted more than 14 days. | Conflict duration > 14 days |
| conflict_closed_quick | Not That Deep | ğŸ¥± | Conflict was solved in under 10 minutes. | Resolve conflict in < 10 minutes |
| resolution_rookie | Resolution Rookie | ğŸ”° | Resolved your first conflict. Everyone starts somewhere. | First resolved conflict |
| mediator_in_training | Mediator in Training | ğŸ“ | Resolved 5+ conflicts as the responder. Learning the ropes. | Resolve 5+ conflicts as responder |
| conflict_veteran | Conflict Veteran | ğŸ–ï¸ | Participated in 50+ conflicts. You've seen it all. | Participate in 50+ conflicts |
| drama_magnet | Drama Magnet | ğŸ§² | Started 20+ conflicts. Trouble finds you everywhere. | Start 20+ conflicts |
| peace_keeper | Peace Keeper | â˜®ï¸ | Achieved 90%+ resolution rate with 10+ conflicts. Natural mediator. | 90%+ resolution rate with 10+ conflicts |
| chaos_coordinator | Chaos Coordinator | ğŸŒ€ | Had 10+ conflicts go to final AI judgment. Organized chaos. | 10+ conflicts reach final judgment |

### Communication Style Achievements

| Code | Name | Emoji | Description | Unlock Condition |
|------|------|-------|-------------|------------------|
| first_i_feel | Shared Your Feelings | ğŸ’Œ | You vulnerably said "I feelâ€¦" (and meant it). | Use "I feel" in message |
| sent_long_message | Over-Packer | ğŸ“¦ | You sent a conflict with over 900 characters. | Message length > 900 chars |
| caps_lock_crusader | CAPS LOCK CRUSADER | ğŸ“¢ | Wrote a message with 50%+ capital letters. WE HEARD YOU. | Message with 50%+ caps |
| question_mark_addict | Question Mark Addict | â“ | Used 5+ question marks in one message. Really??? Are you sure??? | 5+ question marks in message |
| exclamation_explosion | Exclamation Explosion | â— | Used 10+ exclamation points in one message. So much energy!!! | 10+ exclamation points |
| sorry_not_sorry | Sorry Not Sorry | ğŸ¤· | Said "sorry" 3+ times in one conflict message. Apologetic much? | 3+ instances of "sorry" |
| literally_obsessed | Literally Obsessed | ğŸ“š | Used "literally" 5+ times in conflict messages. Literally can't stop. | 5+ instances of "literally" |
| obviously_obvious | Obviously Obvious | ğŸ™„ | Used "obviously" 3+ times in one message. Obviously you have opinions. | 3+ instances of "obviously" |
| whatever_warrior | Whatever Warrior | ğŸ¤¨ | Used "whatever" in a conflict message. Peak dismissive energy. | Use "whatever" in message |
| fine_collector | Fine Collector | ğŸ˜¤ | Said "fine" 3+ times in conflict messages. Everything is NOT fine. | 3+ instances of "fine" |
| emoji_enthusiast | Emoji Enthusiast | ğŸ˜ | Used 10+ emojis in a single conflict message. Very expressive. | 10+ emojis in message |

### Time-based Achievements

| Code | Name | Emoji | Description | Unlock Condition |
|------|------|-------|-------------|------------------|
| weekend_warrior | Weekend Warrior | ğŸ–ï¸ | Started 3+ conflicts on weekends. Even your downtime is dramatic. | 3+ weekend conflicts |
| midnight_mediator | Midnight Mediator | ğŸŒ™ | Resolved a conflict between 11 PM and 5 AM. Insomnia has its benefits. | Resolve conflict late night |
| early_bird_drama | Early Bird Drama | ğŸ¦ | Started a conflict before 7 AM. The early bird catches the beef. | Start conflict before 7 AM |
| night_owl_nonsense | Night Owl Nonsense | ğŸ¦‰ | Started a conflict after 11 PM. Late night thoughts hit different. | Start conflict after 11 PM |
| lunch_break_beef | Lunch Break Beef | ğŸ¥ª | Started a conflict between 11 AM and 2 PM. Hangry much? | Start conflict during lunch |
| monday_meltdown | Monday Meltdown | ğŸ˜© | Started 3+ conflicts on Mondays. Case of the Mondays is real. | 3+ Monday conflicts |
| friday_feelings | Friday Feelings | ğŸ» | Resolved 3+ conflicts on Fridays. Weekend prep includes conflict cleanup. | 3+ Friday resolutions |
| same_day_resolver | Same Day Resolver | âš¡ | Resolved 5+ conflicts on the same day they were created. Efficiency expert. | 5+ same-day resolutions |
| birthday_drama | Birthday Drama | ğŸ‚ | Started a conflict on your birthday. Even celebrations need conflict resolution. | Conflict on birthday |
| holiday_havoc | Holiday Havoc | ğŸ„ | Started a conflict during major holidays. Family gatherings hit different. | Conflict during holiday |
| no_conflicts_30_days | Drama-Free Since... | ğŸ•Šï¸ | You stayed peaceful for 30+ days. | 30+ days without conflicts |
| comeback_kid | Comeback Kid | ğŸ”„ | Returned to resolve conflicts after 30+ days of inactivity. | Return after 30+ days |

### Voting Achievements

| Code | Name | Emoji | Description | Unlock Condition |
|------|------|-------|-------------|------------------|
| first_vote | Voted on a Drama | ğŸ­ | You joined the crowd and cast your vote. | First public vote |
| voted_ai_right | Judge Judy Vibes | ğŸ§‘â€âš–ï¸ | You agreed with the AI's final ruling and voted "The AI was right" on at least 1 conflict. | Vote "AI was right" |
| voted_therapy | "Get Therapy" Voted | ğŸ›‹ï¸ | You clicked the most iconic button. | Vote "get therapy" |
| conflict_with_10_votes | Drama Storm Survivor | ğŸŒªï¸ | A conflict you were in went viral. | Conflict gets 10+ votes |
| voting_enthusiast | Voting Enthusiast | ğŸ—³ï¸ | Cast 25+ votes on public conflicts. Democracy in action. | 25+ public votes |
| reddit_judge | Reddit Judge | ğŸ‘¨â€âš–ï¸ | Voted on 10+ Reddit conflicts. Judging strangers is fun. | 10+ Reddit votes |
| therapy_advocate | Therapy Advocate | ğŸ›‹ï¸ | Voted "get therapy" 5+ times. Sometimes professional help is needed. | 5+ "get therapy" votes |
| ai_believer | AI Believer | ğŸ¤– | Voted "AI was right" 10+ times. Trust in artificial wisdom. | 10+ "AI was right" votes |
| both_wrong_voter | Both Wrong Voter | ğŸ¤¦ | Voted "both wrong" 5+ times. Sometimes everyone needs perspective. | 5+ "both wrong" votes |
| reset_enthusiast | Reset Enthusiast | ğŸ”„ | Voted "reset conflict" 3+ times. Fresh starts are good. | 3+ "reset conflict" votes |

### Collection Achievements

| Code | Name | Emoji | Description | Unlock Condition |
|------|------|-------|-------------|------------------|
| unlocked_5_archetypes | Drama Historian | ğŸ“– | You've collected 5 different archetypes. | Collect 5 archetypes |
| archetype_collector | Archetype Collector | ğŸ­ | Unlocked 10+ different archetypes. Personality chameleon. | Collect 10+ archetypes |
| achievement_hunter | Achievement Hunter | ğŸ† | Unlocked 25+ achievements. Gotta catch 'em all. | Unlock 25+ achievements |
| completionist | Completionist | ğŸ’¯ | Unlocked 50+ achievements. Dedication level: maximum. | Unlock 50+ achievements |

### Meta Achievements

| Code | Name | Emoji | Description | Unlock Condition |
|------|------|-------|-------------|------------------|
| profile_perfectionist | Profile Perfectionist | âœ¨ | Updated your profile 10+ times. Getting that perfect look. | 10+ profile updates |
| username_changer | Username Changer | ğŸ·ï¸ | Changed your username. New identity, same drama. | Change username |
| avatar_artist | Avatar Artist | ğŸ¨ | Uploaded a custom avatar. Looking good for the drama. | Upload custom avatar |
| leaderboard_lurker | Leaderboard Lurker | ğŸ‘€ | Checked the leaderboard 20+ times. Competitive spirit. | 20+ leaderboard views |
| top_ten_achiever | Top Ten Achiever | ğŸ”Ÿ | Reached top 10 on the leaderboard. Elite status achieved. | Reach top 10 on leaderboard |
| supporter_status | Supporter Status | ğŸ’ | Became a Squashie supporter. Thanks for keeping the lights on. | Make a supporter payment |
| squashcred_millionaire | SquashCred Millionaire | ğŸ’° | Reached 10,000+ SquashCred points. Virtual wealth achieved. | Reach 10,000+ SquashCred |
| negative_nancy | Negative Nancy | ğŸ“‰ | Reached -50 SquashCred points. Maybe work on that attitude. | Reach -50 SquashCred |
| comeback_story | Comeback Story | ğŸ“ˆ | Went from negative to positive SquashCred. Redemption arc complete. | Negative to positive SquashCred |

### Quest Achievements

| Code | Name | Emoji | Description | Unlock Condition |
|------|------|-------|-------------|------------------|
| first_quest_started | Quest Beginner | ğŸ§© | Started your first Conflict Confidence Quest. | Start first quest |
| quest_master | Quest Master | ğŸ“š | Completed 5+ Conflict Confidence Quests. | Complete 5+ quests |
| quest_perfectionist | Quest Perfectionist | ğŸ’¯ | Completed a quest with all correct answers on the first try. | Perfect quest score |
| quest_collector | Quest Collector | ğŸ† | Completed quests in all difficulty levels. | Complete all difficulty levels |

## Achievement Tracking

Achievements are tracked through a combination of:

1. **Event-based triggers**: Direct actions like starting a conflict or voting
2. **Scheduled checks**: Time-based achievements like "Drama-Free Since..."
3. **Statistical analysis**: Achievements based on patterns like resolution rate
4. **Message analysis**: Communication style achievements

## Implementation

The achievement system is implemented through:

```typescript
// Check and unlock achievements based on context
checkAndUnlockAchievements: async (userId: string, context: {
  totalConflicts?: number;
  resolvedConflicts?: number;
  archetypeCount?: number;
  hasVotedOnConflict?: boolean;
  // ... many more context fields
}): Promise<string[]> => {
  const newAchievements: string[] = [];

  try {
    // Check first conflict
    if (context.totalConflicts === 1) {
      const { isNewAchievement } = await generalAchievementsService.unlockAchievement(userId, 'first_conflict');
      if (isNewAchievement) newAchievements.push('first_conflict');
    }

    // Check 5 conflicts
    if (context.totalConflicts === 5) {
      const { isNewAchievement } = await generalAchievementsService.unlockAchievement(userId, 'five_conflicts');
      if (isNewAchievement) newAchievements.push('five_conflicts');
    }

    // ... many more achievement checks
  } catch (error) {
    console.error('Error checking achievements:', error);
  }

  return newAchievements;
}
```

## Achievement Display

Achievements are displayed in several places:

1. **Toast Notifications**: Real-time popups when achievements are unlocked
2. **Profile Page**: Grid of unlocked achievements with tooltips
3. **Other User Profiles**: View achievements of other users

## Technical Implementation

Achievements are stored in the `user_achievements` table with:
- `user_id`: The user who earned the achievement
- `code`: Unique achievement identifier
- `name`: Display name
- `emoji`: Visual representation
- `description`: Explanation text
- `unlocked_at`: Timestamp when earned

The system uses database functions and application logic to check for and unlock achievements based on user actions and statistics.